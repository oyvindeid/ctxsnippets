# -*- mode: snippet -*-
# contributor : Ã˜yvind Eidhammer <oyvindhe@yahoo.com>
# key : cay
# group: Bibliography
# expand-env: ((yas/indent-line 'fixed) (yas/wrap-around-region 'nil))
# name : (Author, year)
# --
\cite[authoryear][${1:$$(if (boundp 'user-default-bibtex-file)(yas/choose-value (with-temp-buffer (insert-file-contents (symbol-value 'user-default-bibtex-file))(split-string (replace-regexp-in-string "[,]$" "" (replace-regexp-in-string "^[\s]*[@]+[a-zA-Z0-9]+[{]" "" (replace-regexp-in-string "^[\s]*[^@]+$" "" (buffer-string))) "\n" t))))(insert "key")(yas-text))}$0]